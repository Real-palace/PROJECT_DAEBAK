@{
    ViewData["Title"] = "Security - Subdivision Homeowner's Portal";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <!-- Add Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@@phosphor-icons/web"></script>

    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#94B0DF',
                        secondary: '#356480',
                        tertiary: '#2c3e50',
                        light: '#FCFDFF',
                    }
                },
                fontFamily: {
                    sans: ['Poppins', 'sans-serif'],
                }
            }
        }
    </script>
    <!-- Poppins font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap">
</head>
<body class="font-sans bg-light flex min-h-screen">
    <!-- Sidebar -->
    <div class="fixed top-0 left-0 h-screen w-20 bg-primary flex flex-col items-center justify-between py-5 shadow-md z-10">
        <!-- Logo -->
        <div class="w-full flex justify-center py-4">
            <img src="~/images/daebak_logo.png" alt="Subdivision Logo" class="w-12 h-auto">
        </div>

        <!-- Menu Items -->
        <div class="flex flex-col items-center gap-5">
            <a href="@Url.Action("Home", "Home")" class="relative w-full h-14 flex justify-center items-center text-white text-2xl hover:text-tertiary transition-colors" title="Dashboard">
                <i class="ph ph-house-simple"></i>
            </a>
            <a href="@Url.Action("Billing", "Home")" class="relative w-full h-14 flex justify-center items-center text-white text-2xl hover:text-tertiary transition-colors group" title="Billing & Payments">
                <i class="ph ph-credit-card"></i>
            </a>
            <a href="@Url.Action("Facilities", "Home")" class="relative w-full h-14 flex justify-center items-center text-white text-2xl hover:text-tertiary transition-colors group" title="Facilities">
                <i class="ph ph-tree-structure"></i>
            </a>
            <a href="@Url.Action("Services", "Home")" class="relative w-full h-14 flex justify-center items-center text-white text-2xl hover:text-tertiary transition-colors group" title="Services">
                <i class="ph ph-wrench"></i>
            </a>
            <a href="@Url.Action("Security", "Home")" class="relative w-full h-14 flex justify-center items-center text-tertiary text-2xl transition-colors group" title="Security">
                <i class="ph ph-shield"></i>
            </a>
        </div>

        <!-- User Profile and Logout -->
        <div class="flex flex-col items-center gap-3">
            <a href="@Url.Action("Logout", "Account")" class="w-full h-14 flex justify-center items-center text-white text-2xl hover:text-tertiary transition-colors" title="Logout">
                <i class="ph ph-sign-out"></i>
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="ml-20 w-full min-h-screen bg-gradient-to-r from-light to-blue-100">
        <!-- Top Navigation Bar -->
        <div class="bg-white shadow-sm sticky top-0 z-10">
            <div class="max-w-7xl mx-auto px-6 py-3 flex justify-between items-center">
                <div class="text-lg font-medium text-tertiary">Security</div>

                <div class="flex items-center gap-5">
                    <!-- Search Bar -->
                    <div class="hidden md:flex relative">
                        <input type="text" placeholder="Search..." class="bg-gray-100 rounded-full py-1.5 px-4 pr-10 w-56 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        <button class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500">
                            <i class="ph ph-magnifying-glass"></i>
                        </button>
                    </div>

                    <!-- Notifications -->
                    <div class="relative">
                        <button class="relative p-1 text-gray-700 hover:text-primary transition-colors" title="Notifications">
                            <i class="ph ph-bell text-2xl"></i>
                            <span class="absolute top-0 right-0 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">3</span>
                        </button>
                    </div>

                    <!-- User Menu -->
                    <div class="relative">
                        <a href="@Url.Action("Profile", "Account")" class="flex items-center gap-2 text-gray-700 hover:text-primary transition-colors">
                            <span class="hidden md:block">@ViewBag.UserName</span>
                            <div class="w-9 h-9 bg-primary/20 rounded-full flex items-center justify-center text-primary">
                                <i class="ph ph-user"></i>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="p-6">
            <!-- Security Banner -->
            <div class="bg-primary rounded-xl shadow-lg overflow-hidden flex items-end justify-between mt-4 relative">
                <img src="~/images/security_banner.jpg" alt="Security Image" class="absolute bottom-0 left-0 h-48 md:h-auto md:w-72 lg:w-80">
                <div class="ml-0 md:ml-72 lg:ml-80 p-6 md:p-8">
                    <h2 class="text-2xl md:text-3xl font-semibold text-tertiary">Subdivision Security</h2>
                    <p class="text-gray-700 font-light mt-2">Manage visitor passes, registered vehicles, and view emergency contacts.</p>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div class="flex border-b border-gray-200 mt-8">
                <button id="visitor-tab" class="py-3 px-6 border-b-2 border-secondary text-secondary font-medium">Visitor Pass</button>
                <button id="vehicle-tab" class="py-3 px-6 text-gray-500 font-medium">Vehicle Registration</button>
                <button id="emergency-tab" class="py-3 px-6 text-gray-500 font-medium">Emergency Contacts</button>
                <button id="alerts-tab" class="py-3 px-6 text-gray-500 font-medium">Security Alerts</button>
            </div>

            <!-- Visitor Pass Section -->
            <div id="visitor-section" class="mt-6">
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center gap-2 mb-6">
                        <i class="ph ph-identification-card text-lg text-tertiary"></i>
                        <h3 class="font-semibold text-lg text-tertiary">Request Visitor Pass</h3>
                    </div>
                    
                    <form id="visitor-pass-form" asp-controller="Security" asp-action="RequestVisitorPass" method="post">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="visitor-name">
                                    Visitor Name
                                </label>
                                <input type="text" id="visitor-name" name="VisitorName" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="visitor-phone">
                                    Visitor Phone Number
                                </label>
                                <input type="tel" id="visitor-phone" name="VisitorPhone" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="visit-date">
                                    Visit Date
                                </label>
                                <input type="date" id="visit-date" name="VisitDate" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="visit-time">
                                    Expected Arrival Time
                                </label>
                                <input type="time" id="visit-time" name="VisitTime" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="vehicle-plate">
                                    Vehicle Plate Number (if applicable)
                                </label>
                                <input type="text" id="vehicle-plate" name="VehiclePlate" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="visit-purpose">
                                    Purpose of Visit
                                </label>
                                <select id="visit-purpose" name="VisitPurpose" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                                    <option value="">Select Purpose</option>
                                    <option value="Family">Family Visit</option>
                                    <option value="Friend">Friend Visit</option>
                                    <option value="Service">Service Provider</option>
                                    <option value="Delivery">Delivery</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            
                            <div class="md:col-span-2">
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="visit-notes">
                                    Additional Notes
                                </label>
                                <textarea id="visit-notes" name="VisitNotes" rows="3" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                            </div>
                        </div>
                        
                        <div class="flex justify-end gap-3">
                            <button type="reset" class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors">
                                Clear Form
                            </button>
                            <button type="submit" class="bg-secondary text-white py-2 px-4 rounded-lg hover:bg-secondary/90 transition-colors">
                                Submit Request
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- My Visitor Passes -->
                <div class="mt-8 bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center gap-2">
                            <i class="ph ph-list-checks text-lg text-tertiary"></i>
                            <h3 class="font-semibold text-lg text-tertiary">My Visitor Passes</h3>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Visitor Name</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Visit Date</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Purpose</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <!-- Sample Data - Will be replaced with actual data -->
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm font-medium text-gray-900">John Smith</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-900">Mar 15, 2025 • 2:00 PM</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-900">Family Visit</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Approved</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-blue-600 hover:text-blue-900 mr-3" onclick="showQRCode('VP12345')">View Pass</button>
                                        <button class="text-red-600 hover:text-red-900">Cancel</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm font-medium text-gray-900">Jane Doe</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-900">Mar 20, 2025 • 4:30 PM</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-900">Friend Visit</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">Pending</span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-red-600 hover:text-red-900">Cancel</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Vehicle Registration Section (Hidden initially) -->
            <div id="vehicle-section" class="mt-6 hidden">
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center gap-2 mb-6">
                        <i class="ph ph-car text-lg text-tertiary"></i>
                        <h3 class="font-semibold text-lg text-tertiary">Register Your Vehicle</h3>
                    </div>
                    
                    <form id="vehicle-form" asp-controller="Security" asp-action="RegisterVehicle" method="post" enctype="multipart/form-data">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="plate-number">
                                    License Plate Number
                                </label>
                                <input type="text" id="plate-number" name="PlateNumber" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="vehicle-make">
                                    Vehicle Make
                                </label>
                                <input type="text" id="vehicle-make" name="VehicleMake" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="vehicle-model">
                                    Vehicle Model
                                </label>
                                <input type="text" id="vehicle-model" name="VehicleModel" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="vehicle-color">
                                    Vehicle Color
                                </label>
                                <input type="text" id="vehicle-color" name="VehicleColor" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="vehicle-year">
                                    Year
                                </label>
                                <input type="number" id="vehicle-year" name="VehicleYear" min="1900" max="2099" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="vehicle-type">
                                    Vehicle Type
                                </label>
                                <select id="vehicle-type" name="VehicleType" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                                    <option value="">Select Type</option>
                                    <option value="Sedan">Sedan</option>
                                    <option value="SUV">SUV</option>
                                    <option value="Truck">Truck</option>
                                    <option value="Van">Van</option>
                                    <option value="Motorcycle">Motorcycle</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            
                            <div class="md:col-span-2">
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="vehicle-photo">
                                    Vehicle Photo (Optional)
                                </label>
                                <div class="border border-dashed border-gray-300 rounded-lg p-6 text-center">
                                    <input type="file" id="vehicle-photo" name="VehiclePhoto" accept="image/*" class="hidden">
                                    <label for="vehicle-photo" class="cursor-pointer flex flex-col items-center justify-center gap-2">
                                        <i class="ph ph-upload-simple text-2xl text-gray-400"></i>
                                        <span class="text-sm text-gray-500">Click to upload a photo of your vehicle</span>
                                        <span class="text-xs text-gray-400">(Max 5MB, JPG or PNG)</span>
                                    </label>
                                </div>
                                <div id="vehicle-preview" class="mt-3 hidden">
                                    <img src="" alt="Vehicle preview" class="h-40 object-contain mx-auto">
                                    <button type="button" id="remove-vehicle-photo" class="text-red-500 text-sm flex items-center justify-center mt-2 mx-auto">
                                        <i class="ph ph-trash mr-1"></i> Remove photo
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-end gap-3">
                            <button type="reset" class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors">
                                Clear Form
                            </button>
                            <button type="submit" class="bg-secondary text-white py-2 px-4 rounded-lg hover:bg-secondary/90 transition-colors">
                                Register Vehicle
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- My Registered Vehicles -->
                <div class="mt-8 bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center gap-2">
                            <i class="ph ph-cars text-lg text-tertiary"></i>
                            <h3 class="font-semibold text-lg text-tertiary">My Registered Vehicles</h3>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Vehicle Card 1 -->
                        <div class="border rounded-lg overflow-hidden shadow-sm">
                            <div class="h-40 bg-gray-200 relative">
                                <img src="~/images/car_sample.jpg" alt="Vehicle" class="w-full h-full object-cover">
                                <div class="absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full">Active</div>
                            </div>
                            <div class="p-4">
                                <div class="flex justify-between">
                                    <h4 class="font-medium">Honda Civic</h4>
                                    <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">Primary</span>
                                </div>
                                <div class="mt-2 space-y-1 text-sm text-gray-600">
                                    <p><span class="font-medium">Plate:</span> ABC-1234</p>
                                    <p><span class="font-medium">Color:</span> Silver • <span class="font-medium">Year:</span> 2020</p>
                                    <p><span class="font-medium">Type:</span> Sedan</p>
                                </div>
                                <div class="mt-4 flex justify-end gap-2">
                                    <button class="text-blue-600 text-sm hover:underline">Edit</button>
                                    <button class="text-red-600 text-sm hover:underline">Remove</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Vehicle Card 2 -->
                        <div class="border rounded-lg overflow-hidden shadow-sm">
                            <div class="h-40 bg-gray-200 relative">
                                <img src="~/images/suv_sample.jpg" alt="Vehicle" class="w-full h-full object-cover">
                                <div class="absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full">Active</div>
                            </div>
                            <div class="p-4">
                                <div class="flex justify-between">
                                    <h4 class="font-medium">Toyota RAV4</h4>
                                    <span class="bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded">Secondary</span>
                                </div>
                                <div class="mt-2 space-y-1 text-sm text-gray-600">
                                    <p><span class="font-medium">Plate:</span> XYZ-5678</p>
                                    <p><span class="font-medium">Color:</span> Blue • <span class="font-medium">Year:</span> 2022</p>
                                    <p><span class="font-medium">Type:</span> SUV</p>
                                </div>
                                <div class="mt-4 flex justify-end gap-2">
                                    <button class="text-blue-600 text-sm hover:underline">Edit</button>
                                    <button class="text-red-600 text-sm hover:underline">Remove</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Emergency Contacts Section (Hidden initially) -->
            <div id="emergency-section" class="mt-6 hidden">
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center gap-2 mb-6">
                        <i class="ph ph-phone text-lg text-tertiary"></i>
                        <h3 class="font-semibold text-lg text-tertiary">Emergency Contact Directory</h3>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Security Office -->
                        <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                            <div class="flex items-start gap-3">
                                <div class="bg-red-100 p-3 rounded-full">
                                    <i class="ph ph-shield-star text-xl text-red-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-lg">Security Office</h4>
                                    <a href="tel:+639171234567" class="text-blue-600 hover:underline flex items-center gap-1 mt-1">
                                        <i class="ph ph-phone"></i> +63 917 123 4567
                                    </a>
                                    <p class="text-sm text-gray-500 mt-2">Available 24/7 for security concerns and emergencies within the subdivision.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Admin Office -->
                        <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                            <div class="flex items-start gap-3">
                                <div class="bg-blue-100 p-3 rounded-full">
                                    <i class="ph ph-buildings text-xl text-blue-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-lg">Administration Office</h4>
                                    <a href="tel:+639189876543" class="text-blue-600 hover:underline flex items-center gap-1 mt-1">
                                        <i class="ph ph-phone"></i> +63 918 987 6543
                                    </a>
                                    <p class="text-sm text-gray-500 mt-2">For administrative concerns and inquiries. Office hours: 8:00 AM - 5:00 PM, Monday to Friday.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Maintenance -->
                        <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                            <div class="flex items-start gap-3">
                                <div class="bg-green-100 p-3 rounded-full">
                                    <i class="ph ph-wrench text-xl text-green-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-lg">Maintenance Department</h4>
                                    <a href="tel:+639191234567" class="text-blue-600 hover:underline flex items-center gap-1 mt-1">
                                        <i class="ph ph-phone"></i> +63 919 123 4567
                                    </a>
                                    <p class="text-sm text-gray-500 mt-2">For urgent maintenance and repair concerns within common areas.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Local Police -->
                        <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                            <div class="flex items-start gap-3">
                                <div class="bg-indigo-100 p-3 rounded-full">
                                    <i class="ph ph-police-car text-xl text-indigo-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-lg">Police Station</h4>
                                    <a href="tel:+6391234567890" class="text-blue-600 hover:underline flex items-center gap-1 mt-1">
                                        <i class="ph ph-phone"></i> +63 912 345 6789
                                    </a>
                                    <p class="text-sm text-gray-500 mt-2">Local police station for emergencies outside the subdivision or serious incidents.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Fire Department -->
                        <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                            <div class="flex items-start gap-3">
                                <div class="bg-orange-100 p-3 rounded-full">
                                    <i class="ph ph-fire-extinguisher text-xl text-orange-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-lg">Fire Department</h4>
                                    <a href="tel:+639765432109" class="text-blue-600 hover:underline flex items-center gap-1 mt-1">
                                        <i class="ph ph-phone"></i> +63 976 543 2109
                                    </a>
                                    <p class="text-sm text-gray-500 mt-2">Fire emergencies and related concerns.</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Medical Emergency -->
                        <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                            <div class="flex items-start gap-3">
                                <div class="bg-pink-100 p-3 rounded-full">
                                    <i class="ph ph-first-aid-kit text-xl text-pink-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium text-lg">Medical Emergency</h4>
                                    <a href="tel:+639876543210" class="text-blue-600 hover:underline flex items-center gap-1 mt-1">
                                        <i class="ph ph-phone"></i> +63 987 654 3210
                                    </a>
                                    <p class="text-sm text-gray-500 mt-2">For medical emergencies and ambulance requests.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Emergency Contact Instructions -->
                    <div class="mt-8 bg-blue-50 rounded-lg p-4 border border-blue-100">
                        <div class="flex items-start gap-2">
                            <i class="ph ph-info text-blue-500 mt-0.5"></i>
                            <div>
                                <h4 class="font-medium text-blue-800">In Case of Emergency</h4>
                                <ul class="list-disc list-inside text-sm text-blue-700 mt-2 space-y-1">
                                    <li>For any security concerns within the subdivision, please contact the Security Office first.</li>
                                    <li>For life-threatening emergencies, dial the national emergency number (911) immediately.</li>
                                    <li>After contacting emergency services, please notify the subdivision security office so they can facilitate access.</li>
                                    <li>Always provide your complete address including house number, block, and street name.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Family Emergency Contacts (Editable by user) -->
                    <div class="mt-8">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="font-medium text-lg text-tertiary flex items-center">
                                <i class="ph ph-user-circle-plus mr-2"></i>
                                My Personal Emergency Contacts
                            </h4>
                            <button id="add-emergency-contact" class="text-sm text-blue-600 flex items-center gap-1">
                                <i class="ph ph-plus-circle"></i> Add Contact
                            </button>
                        </div>
                        
                        <div class="border rounded-lg divide-y">
                            <!-- Sample Contact 1 -->
                            <div class="p-4 flex justify-between items-center">
                                <div>
                                    <h5 class="font-medium">Maria Santos</h5>
                                    <p class="text-sm text-gray-600">Wife</p>
                                    <a href="tel:+639123456789" class="text-blue-600 text-sm hover:underline">+63 912 345 6789</a>
                                </div>
                                <div class="flex gap-2">
                                    <button class="text-blue-600 hover:text-blue-800">
                                        <i class="ph ph-pencil-simple text-lg"></i>
                                    </button>
                                    <button class="text-red-600 hover:text-red-800">
                                        <i class="ph ph-trash text-lg"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Sample Contact 2 -->
                            <div class="p-4 flex justify-between items-center">
                                <div>
                                    <h5 class="font-medium">Jose Santos</h5>
                                    <p class="text-sm text-gray-600">Brother</p>
                                    <a href="tel:+639987654321" class="text-blue-600 text-sm hover:underline">+63 998 765 4321</a>
                                </div>
                                <div class="flex gap-2">
                                    <button class="text-blue-600 hover:text-blue-800">
                                        <i class="ph ph-pencil-simple text-lg"></i>
                                    </button>
                                    <button class="text-red-600 hover:text-red-800">
                                        <i class="ph ph-trash text-lg"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Security Alerts Section (Hidden initially) -->
            <div id="alerts-section" class="mt-6 hidden">
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center gap-2 mb-6">
                        <i class="ph ph-warning text-lg text-tertiary"></i>
                        <h3 class="font-semibold text-lg text-tertiary">Security Alerts & Advisories</h3>
                    </div>
                    
                    <div class="space-y-6">
                        <!-- Alert 1 -->
                        <div class="border-l-4 border-yellow-400 bg-yellow-50 p-4 rounded-r-lg">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="ph ph-warning-circle text-yellow-400 text-xl"></i>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-yellow-800">Gate Access System Maintenance</h3>
                                    <div class="mt-2 text-sm text-yellow-700">
                                        <p>The main gate access system will undergo maintenance on March 15, 2025, from 10:00 AM to 2:00 PM. Please expect slight delays during entry and exit.</p>
                                    </div>
                                    <div class="mt-1 text-xs text-yellow-600">Posted on March 10, 2025</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Alert 2 -->
                        <div class="border-l-4 border-red-400 bg-red-50 p-4 rounded-r-lg">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="ph ph-warning-octagon text-red-400 text-xl"></i>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-red-800">Suspicious Activity Alert</h3>
                                    <div class="mt-2 text-sm text-red-700">
                                        <p>There have been reports of suspicious individuals posing as utility workers in neighboring subdivisions. Please verify all service personnel with the security office before allowing entry.</p>
                                    </div>
                                    <div class="mt-1 text-xs text-red-600">Posted on March 8, 2025</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Alert 3 -->
                        <div class="border-l-4 border-blue-400 bg-blue-50 p-4 rounded-r-lg">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="ph ph-info text-blue-400 text-xl"></i>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-blue-800">Updated Visitor Policy</h3>
                                    <div class="mt-2 text-sm text-blue-700">
                                        <p>The homeowners' association has approved an updated visitor policy effective April 1, 2025. All visitors must be registered at least 4 hours in advance. Please check your email for the complete policy update.</p>
                                    </div>
                                    <div class="mt-1 text-xs text-blue-600">Posted on March 5, 2025</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Security Tips -->
                    <div class="mt-8">
                        <h4 class="font-medium text-lg text-tertiary mb-4 flex items-center">
                            <i class="ph ph-shield-check mr-2"></i>
                            Security Tips & Reminders
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-start gap-3">
                                    <div class="bg-green-100 p-2 rounded-full text-green-600">
                                        <i class="ph ph-lock"></i>
                                    </div>
                                    <div>
                                        <h5 class="font-medium">Keep Your Home Secure</h5>
                                        <p class="text-sm text-gray-600 mt-1">Always lock doors and windows when leaving your home, even for short periods.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-start gap-3">
                                    <div class="bg-green-100 p-2 rounded-full text-green-600">
                                        <i class="ph ph-car"></i>
                                    </div>
                                    <div>
                                        <h5 class="font-medium">Vehicle Security</h5>
                                        <p class="text-sm text-gray-600 mt-1">Don't leave valuables visible in your car. Always lock your vehicle, even when parked at home.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-start gap-3">
                                    <div class="bg-green-100 p-2 rounded-full text-green-600">
                                        <i class="ph ph-eye"></i>
                                    </div>
                                    <div>
                                        <h5 class="font-medium">Report Suspicious Activity</h5>
                                        <p class="text-sm text-gray-600 mt-1">If you notice unfamiliar people or unusual activity, report it to the security office immediately.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-start gap-3">
                                    <div class="bg-green-100 p-2 rounded-full text-green-600">
                                        <i class="ph ph-identification-badge"></i>
                                    </div>
                                    <div>
                                        <h5 class="font-medium">Verify Service Personnel</h5>
                                        <p class="text-sm text-gray-600 mt-1">Always verify the identity of service workers before allowing them into your home.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer with copyright -->
            <div class="text-center mt-10 mb-4 text-sm text-gray-500">
                © @DateTime.Now.Year Daebak Subdivision. All rights reserved.
            </div>
        </div>
    </div>
    
    <!-- QR Code Modal for Visitor Pass (hidden by default) -->
    <div id="qr-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 max-w-md w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-tertiary">Visitor Pass</h3>
                <button id="close-qr-modal" class="text-gray-500 hover:text-gray-700">
                    <i class="ph ph-x text-xl"></i>
                </button>
            </div>
            
            <div class="text-center">
                <div class="mx-auto mb-4 w-48 h-48 flex items-center justify-center bg-gray-100">
                    <!-- This is where the QR code would be displayed -->
                    <img id="qr-code-image" src="~/images/qr-code-sample.jpg" alt="QR Code" class="max-w-full max-h-full">
                </div>
                
                <div class="mb-4">
                    <h4 class="font-medium text-lg mb-1">John Smith</h4>
                    <p class="text-gray-600">Visit on: March 15, 2025 • 2:00 PM</p>
                    <p class="text-gray-600">Pass ID: <span id="pass-id">VP12345</span></p>
                </div>
                
                <p class="text-sm text-gray-500 mb-4">Present this QR code to the security personnel at the entrance.</p>
                
                <div class="flex justify-center gap-3">
                    <button class="bg-secondary text-white py-2 px-4 rounded-lg hover:bg-secondary/90 transition-colors flex items-center gap-1">
                        <i class="ph ph-share-network"></i> Share
                    </button>
                    <button class="bg-primary text-white py-2 px-4 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-1">
                        <i class="ph ph-printer"></i> Print
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Emergency Contact Modal (hidden by default) -->
    <div id="contact-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 max-w-md w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-tertiary">Add Emergency Contact</h3>
                <button id="close-contact-modal" class="text-gray-500 hover:text-gray-700">
                    <i class="ph ph-x text-xl"></i>
                </button>
            </div>
            
            <form id="emergency-contact-form">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1" for="contact-name">
                            Contact Name
                        </label>
                        <input type="text" id="contact-name" name="ContactName" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1" for="contact-relationship">
                            Relationship
                        </label>
                        <input type="text" id="contact-relationship" name="Relationship" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1" for="contact-phone">
                            Phone Number
                        </label>
                        <input type="tel" id="contact-phone" name="ContactPhone" class="bg-white border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-primary" required>
                    </div>
                </div>
                
                <div class="mt-6 flex justify-end gap-3">
                    <button type="button" id="cancel-contact" class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors">
                        Cancel
                    </button>
                    <button type="submit" class="bg-secondary text-white py-2 px-4 rounded-lg hover:bg-secondary/90 transition-colors">
                        Save Contact
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab Navigation
            const visitorTab = document.getElementById('visitor-tab');
            const vehicleTab = document.getElementById('vehicle-tab');
            const emergencyTab = document.getElementById('emergency-tab');
            const alertsTab = document.getElementById('alerts-tab');
            
            const visitorSection = document.getElementById('visitor-section');
            const vehicleSection = document.getElementById('vehicle-section');
            const emergencySection = document.getElementById('emergency-section');
            const alertsSection = document.getElementById('alerts-section');
            
            function setActiveTab(tab, section) {
                // Remove active states from all tabs
                [visitorTab, vehicleTab, emergencyTab, alertsTab].forEach(t => {
                    t.classList.remove('border-b-2', 'border-secondary', 'text-secondary');
                    t.classList.add('text-gray-500');
                });
                
                // Add active state to selected tab
                tab.classList.add('border-b-2', 'border-secondary', 'text-secondary');
                tab.classList.remove('text-gray-500');
                
                // Hide all sections
                [visitorSection, vehicleSection, emergencySection, alertsSection].forEach(s => {
                    s.classList.add('hidden');
                });
                
                // Show selected section
                section.classList.remove('hidden');
            }
            
            visitorTab.addEventListener('click', () => setActiveTab(visitorTab, visitorSection));
            vehicleTab.addEventListener('click', () => setActiveTab(vehicleTab, vehicleSection));
            emergencyTab.addEventListener('click', () => setActiveTab(emergencyTab, emergencySection));
            alertsTab.addEventListener('click', () => setActiveTab(alertsTab, alertsSection));
            
            // Vehicle Photo Preview
            const vehiclePhoto = document.getElementById('vehicle-photo');
            const vehiclePreview = document.getElementById('vehicle-preview');
            const vehiclePreviewImage = vehiclePreview.querySelector('img');
            const removeVehiclePhoto = document.getElementById('remove-vehicle-photo');
            
            vehiclePhoto.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        vehiclePreviewImage.src = e.target.result;
                        vehiclePreview.classList.remove('hidden');
                    }
                    
                    reader.readAsDataURL(this.files[0]);
                }
            });
            
            removeVehiclePhoto.addEventListener('click', function() {
                vehiclePhoto.value = '';
                vehiclePreview.classList.add('hidden');
                vehiclePreviewImage.src = '';
            });
            
            // QR Code Modal
            const qrModal = document.getElementById('qr-modal');
            const closeQrModal = document.getElementById('close-qr-modal');
            const passIdElement = document.getElementById('pass-id');
            
            window.showQRCode = function(passId) {
                passIdElement.textContent = passId;
                qrModal.classList.remove('hidden');
            }
            
            closeQrModal.addEventListener('click', function() {
                qrModal.classList.add('hidden');
            });
            
            // Close QR modal when clicking outside
            qrModal.addEventListener('click', function(e) {
                if (e.target === qrModal) {
                    qrModal.classList.add('hidden');
                }
            });
            
            // Emergency Contact Modal
            const contactModal = document.getElementById('contact-modal');
            const addEmergencyContact = document.getElementById('add-emergency-contact');
            const closeContactModal = document.getElementById('close-contact-modal');
            const cancelContact = document.getElementById('cancel-contact');
            const emergencyContactForm = document.getElementById('emergency-contact-form');
            
            addEmergencyContact.addEventListener('click', function() {
                contactModal.classList.remove('hidden');
            });
            
            closeContactModal.addEventListener('click', function() {
                contactModal.classList.add('hidden');
            });
            
            cancelContact.addEventListener('click', function() {
                contactModal.classList.add('hidden');
            });
            
            // Close contact modal when clicking outside
            contactModal.addEventListener('click', function(e) {
                if (e.target === contactModal) {
                    contactModal.classList.add('hidden');
                }
            });
            
            // Handle form submission (would normally send to server)
            emergencyContactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                // In a real app, you would save the contact here
                alert('Contact saved successfully!');
                contactModal.classList.add('hidden');
                emergencyContactForm.reset();
            });
        });
    </script>
</body>
</html>
